import{c as C,r as o,j as e,d as z,b as he,L as wt,n as O,U as ue,A as Se,M as Ve,u as kt,e as Pt,f as St,I as At,g as Ae}from"./index-D1m9DCQM.js";import{D as fe,R as Ot,W as Ct,B as Oe,P as zt}from"./Profile-uheQ_cgz.js";import{C as be,T as Et,r as re,c as le,a as _t,S as Dt,b as It,u as ge,s as Lt,d as Tt,e as Mt,f as $t,g as Wt,h as Ft,i as Rt,j as Ze,k as Kt,l as Ce,m as Gt,n as T,o as Ye,p as ve,D as ye,q as Ue,t as Bt,Z as je,L as Z,v as qt,w as Ht,x as Qe,y as Xe,z as ie,A as Ne,B as Vt,E as Zt,F as Je,G as we,H as ke,I as et,J as Yt,K as tt,M as ze,N as Ut,O as Qt,P as Xt,Q as at,R as Jt,U as ea,V as ta,W as aa,X as st,Y as sa,_ as ra,$ as la,a0 as ia,a1 as na,a2 as oa,a3 as ca,a4 as Ee,a5 as _e,a6 as da,a7 as ua,a8 as xa,a9 as G,aa as ma,ab as pa,ac as ha,ad as fa,ae as ne,af as J,ag as ba,ah as ga,ai as va,aj as rt,ak as ya,al as lt,am as it,an as nt,ao as ot,ap as De,aq as ja,ar as Na,as as wa}from"./BarChart-1FO1Yqzw.js";import{F as V,M as ka,H as Ie}from"./moon-C6Ml7ibQ.js";import{A as ee,T as $}from"./target-PLozwhv0.js";import{L as R}from"./loader-circle-ITdONMCJ.js";import{Z as Pa}from"./zap-BtZctaNb.js";import{T as ct,S as Sa}from"./trending-up-D-c4LMsx.js";import{C as dt}from"./circle-check-1_bzRAy1.js";const Aa=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Le=C("award",Aa);const Oa=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ca=C("chevron-down",Oa);const za=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Pe=C("circle-alert",za);const Ea=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ut=C("circle-question-mark",Ea);const _a=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],Da=C("dumbbell",_a);const Ia=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],La=C("footprints",Ia);const Ta=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],Ma=C("list-checks",Ta);const $a=[["path",{d:"M18 5h4",key:"1lhgn2"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Wa=C("moon-star",$a);const Fa=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ra=C("plus",Fa);const Ka=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Ga=C("repeat",Ka);const Ba=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],qa=C("shield-alert",Ba);const Ha=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Va=C("timer",Ha);const Za=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],Q=C("utensils",Za);const Ya=[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]],Ua=C("wheat",Ya),Qa=()=>{const[a,t]=o.useState(null),[s,r]=o.useState(!0),[l,n]=o.useState(null),[c]=o.useState(new Date().toISOString().split("T")[0]);if(o.useEffect(()=>{(async()=>{r(!0);try{const{data:u}=await z.get(`/api/food/suggest?date=${c}`);u.success&&t(u.data)}catch(u){n(u.response?.data?.message||"Failed to load nutrition plan.")}finally{r(!1)}})()},[c]),s)return e.jsx("div",{className:"text-center py-10 text-slate-500 font-bold",children:"Curating optimal macros..."});if(l)return e.jsx("div",{className:"text-center py-10 text-red-500",children:l});const{menu:i,dietaryRegion:d}=a;return e.jsx("div",{className:"w-full relative z-10 font-sans text-slate-800",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-10 border-b border-slate-200/60 pb-6",children:[e.jsx("div",{className:"bg-emerald-50 text-emerald-600 p-3 rounded-2xl border border-emerald-100",children:e.jsx(Q,{size:28})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Nutrition Options"}),e.jsxs("p",{className:"text-slate-500 font-medium",children:["Style:"," ",e.jsx("span",{className:"uppercase text-emerald-700 font-bold",children:d})]})]})]}),e.jsx("div",{className:"space-y-12",children:Object.entries(i).map(([x,u])=>!u||u.length===0?null:e.jsxs("div",{className:"animate-in fade-in duration-500",children:[e.jsxs("h3",{className:"text-xl font-black text-slate-800 mb-6 uppercase tracking-widest border-l-4 border-emerald-400 pl-4",children:[x," Options"]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map((m,p)=>e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl p-6 rounded-[2rem] border border-white shadow-sm hover:shadow-lg transition-all duration-300 flex flex-col h-full",children:[e.jsx("div",{className:"flex justify-between items-start mb-3",children:e.jsx("h4",{className:"text-xl font-bold text-slate-900 leading-tight",children:m.name})}),e.jsx("div",{className:"flex gap-2 flex-wrap mb-4",children:m.tags?.map((f,h)=>e.jsx("span",{className:"text-[10px] font-bold text-emerald-700 bg-emerald-50 px-2 py-1 rounded-md border border-emerald-200 uppercase tracking-wide",children:f},h))}),e.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-slate-500 mb-4",children:[e.jsx(be,{size:14})," Prep: ",m.prepTime]}),e.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-6",children:[e.jsxs("div",{className:"bg-slate-50 p-2 rounded-xl border border-slate-100 flex flex-col items-center",children:[e.jsx(V,{size:14,className:"text-orange-400 mb-1"}),e.jsx("span",{className:"font-black text-slate-800 text-sm",children:m.macros?.cal||m.calories})]}),e.jsxs("div",{className:"bg-slate-50 p-2 rounded-xl border border-slate-100 flex flex-col items-center",children:[e.jsx(ee,{size:14,className:"text-teal-500 mb-1"}),e.jsxs("span",{className:"font-black text-slate-800 text-sm",children:[m.macros?.pro||m.protein,"g"]})]}),e.jsxs("div",{className:"bg-slate-50 p-2 rounded-xl border border-slate-100 flex flex-col items-center",children:[e.jsx(Ua,{size:14,className:"text-amber-500 mb-1"}),e.jsxs("span",{className:"font-black text-slate-800 text-sm",children:[m.macros?.carb||m.carbs,"g"]})]}),e.jsxs("div",{className:"bg-slate-50 p-2 rounded-xl border border-slate-100 flex flex-col items-center",children:[e.jsx(fe,{size:14,className:"text-blue-400 mb-1"}),e.jsxs("span",{className:"font-black text-slate-800 text-sm",children:[m.macros?.fat||m.fats,"g"]})]})]}),m.ingredients&&e.jsxs("div",{className:"mt-auto",children:[e.jsxs("h5",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2 flex items-center gap-1",children:[e.jsx(Ma,{size:14})," Ingredients"]}),e.jsx("ul",{className:"text-sm text-slate-600 font-medium space-y-1 ml-1",children:m.ingredients.map((f,h)=>e.jsxs("li",{children:["â€¢ ",f]},h))})]}),m.note&&e.jsxs("div",{className:"mt-4 bg-amber-50/80 p-3 rounded-xl border border-amber-100 flex gap-2 items-start",children:[e.jsx(Pe,{size:16,className:"text-amber-500 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-amber-800 text-xs font-bold leading-relaxed",children:m.note})]})]},p))})]},x))})]})})},Xa=()=>{const[a,t]=o.useState(null),[s,r]=o.useState(!0),[l,n]=o.useState(null),[c]=o.useState(new Date().toISOString().split("T")[0]);o.useEffect(()=>{(async()=>{r(!0);try{const{data:x}=await z.get(`/api/exercises/suggest?date=${c}`);x.success&&t(x.data)}catch(x){n(x.response?.data?.message||"Failed to load workout plan.")}finally{r(!1)}})()},[c]);const i=a?.exercises?.reduce((d,x)=>(d[x.category]||(d[x.category]=[]),d[x.category].push(x),d),{});return s?e.jsx("div",{className:"text-center py-10 text-slate-500 font-bold",children:"Loading premium workout routines..."}):l?e.jsx("div",{className:"text-center py-10 text-red-500",children:l}):e.jsx("div",{className:"w-full relative z-10 font-sans text-slate-800",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-10 border-b border-slate-200/60 pb-6",children:[e.jsx("div",{className:"bg-teal-50 text-teal-600 p-3 rounded-2xl border border-teal-100",children:e.jsx(ee,{size:28})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Today's Protocol"}),e.jsxs("p",{className:"text-slate-500 font-medium",children:["Goal:"," ",e.jsx("span",{className:"uppercase text-teal-700 font-bold",children:a.userGoal.replace("_"," ")})]})]})]}),e.jsx("div",{className:"space-y-12",children:i&&Object.keys(i).map((d,x)=>e.jsxs("div",{className:"animate-in fade-in duration-500",children:[e.jsx("h3",{className:"text-xl font-black text-slate-800 mb-6 uppercase tracking-widest border-l-4 border-teal-400 pl-4",children:d}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:i[d].map((u,m)=>e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl p-8 rounded-[2rem] border border-white shadow-sm hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("h4",{className:"text-2xl font-bold text-slate-900 leading-tight",children:u.name}),e.jsxs("span",{className:"bg-slate-100 text-slate-600 text-xs font-bold px-3 py-1 rounded-full",children:[u.intensity," Intensity"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-slate-700",children:[e.jsx(Ga,{size:16,className:"text-teal-500"}),u.rounds," Sets Ã— ",u.reps]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-slate-700",children:[e.jsx(Va,{size:16,className:"text-emerald-500"}),"Rest: ",u.rest]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-slate-700",children:[e.jsx(V,{size:16,className:"text-orange-500"}),"RPE: ",u.rpe,"/10"]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-slate-700",children:[e.jsx($,{size:16,className:"text-blue-500"}),u.target]})]}),u.instructions&&e.jsxs("p",{className:"text-slate-500 text-sm font-medium bg-slate-50 p-4 rounded-xl border border-slate-100",children:[e.jsx("strong",{className:"text-slate-700",children:"Form cue:"})," ",u.instructions]}),u.note&&e.jsxs("div",{className:"mt-4 bg-amber-50/80 p-4 rounded-xl border border-amber-100 flex gap-3 items-start",children:[e.jsx(Pe,{size:18,className:"text-amber-500 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-amber-800 text-xs font-bold leading-relaxed",children:u.note})]})]},m))})]},x))})]})})},Ja=()=>{const{user:a}=he(),[t,s]=o.useState(!0),[r,l]=o.useState(!1),[n,c]=o.useState(!1),[i,d]=o.useState(!1),[x,u]=o.useState(null),[m,p]=o.useState({name:"",calories:"",protein:"",carbs:"",fats:"",water:"",sleep:""}),[f,h]=o.useState(!1);o.useEffect(()=>{(async()=>{try{const{data:y}=await z.get("/api/dailyPlan/today");y.success&&u(y.plan)}catch(y){y.response?.status===400?l(!0):y.response?.status===404&&c(!0)}finally{s(!1)}})()},[]);const j=async()=>{d(!0);try{const{data:b}=await z.post("/api/dailyPlan/generate");b.success&&(u(b.plan),c(!1),O.success("Today's plan is ready. Let's crush it! ðŸ’ª"))}catch(b){b.response?.status===400?l(!0):O.error("Failed to generate plan.")}finally{d(!1)}},g=b=>p({...m,[b.target.name]:b.target.value}),w=async b=>{if(b.preventDefault(),h(!0),!m.name&&(m.calories||m.protein||m.carbs||m.fats)){O.error("Please enter a Food/Drink Name"),h(!1);return}const y={name:m.name||(m.water?"Water":"Sleep"),calories:Number(m.calories)||0,protein:Number(m.protein)||0,carbs:Number(m.carbs)||0,fats:Number(m.fats)||0,water:Number(m.water)||0,sleep:Number(m.sleep)||0};try{const{data:k}=await z.post("/api/dailyPlan/log",y);k.success&&(O.success("Logged successfully!"),u(k.plan),p({name:"",calories:"",protein:"",carbs:"",fats:"",water:"",sleep:""}))}catch{O.error("Failed to log intake.")}finally{h(!1)}},S=async b=>{try{const{data:y}=await z.delete(`/api/dailyPlan/log/${b}`);y.success&&(O.success("Item removed"),u(y.plan))}catch{O.error("Failed to delete item")}};if(t)return e.jsx("div",{className:"min-h-[70vh] flex flex-col justify-center items-center",children:e.jsxs("div",{className:"bg-white/60 backdrop-blur-xl p-8 rounded-3xl border border-white shadow-xl flex flex-col items-center",children:[e.jsx(R,{className:"animate-spin text-teal-500 mb-4",size:48}),e.jsx("p",{className:"text-slate-500 font-bold tracking-widest uppercase text-sm",children:"Loading Engine"})]})});if(r)return e.jsx("div",{className:"max-w-md mx-auto pt-20 animate-in fade-in zoom-in-95 duration-500 text-center",children:e.jsxs("div",{className:"bg-white/70 backdrop-blur-2xl p-10 rounded-[3rem] shadow-[0_20px_60px_rgb(0,0,0,0.08)] border border-white",children:[e.jsx(Pe,{className:"text-amber-500 w-20 h-20 mx-auto mb-6 drop-shadow-md"}),e.jsx("h2",{className:"text-3xl font-black text-slate-900 mb-3 tracking-tight",children:"Profile Required"}),e.jsx("p",{className:"text-slate-500 mb-8 font-medium",children:"We need your body metrics to calculate your targets."}),e.jsx(wt,{to:"/dashboard",className:"block w-full bg-gradient-to-r from-teal-500 to-emerald-400 text-white py-4 rounded-2xl font-bold shadow-lg hover:-translate-y-0.5 transition-all",children:"Complete My Profile"})]})});if(n)return e.jsx("div",{className:"max-w-md mx-auto pt-20 animate-in fade-in zoom-in-95 duration-500 text-center",children:e.jsxs("div",{className:"bg-slate-900/95 backdrop-blur-2xl p-10 rounded-[3rem] shadow-[0_20px_60px_rgba(20,184,166,0.2)] border border-slate-700 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-teal-500/20 rounded-full blur-[80px] pointer-events-none"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"w-20 h-20 bg-teal-500/10 border border-teal-400/20 rounded-full flex items-center justify-center mx-auto mb-6 shadow-inner",children:e.jsx(Pa,{className:"text-teal-400",size:36})}),e.jsx("h2",{className:"text-3xl font-black text-white mb-3 tracking-tight",children:"Ready for today?"}),e.jsx("p",{className:"text-slate-400 mb-8 font-medium text-lg leading-relaxed",children:"Let's generate your custom calorie and macro targets based on your profile."}),e.jsx("button",{onClick:j,disabled:i,className:"w-full bg-gradient-to-r from-teal-400 to-emerald-400 text-slate-900 py-4 rounded-2xl font-black text-lg hover:shadow-[0_0_30px_rgba(20,184,166,0.4)] transition-all flex justify-center items-center gap-2",children:i?e.jsx(R,{className:"animate-spin",size:24}):"Generate Today's Plan"})]})]})});if(!x)return null;const{targets:N,actuals:v,consumedItems:P}=x;return e.jsxs("div",{className:"max-w-6xl mx-auto pb-24 pt-4 animate-in fade-in duration-700 relative z-10 pb-32",children:[e.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tight mt-8 mb-10",children:"Today's Plan"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{className:"bg-slate-900/95 backdrop-blur-2xl rounded-[2.5rem] p-8 md:p-10 text-white shadow-2xl border border-slate-700 relative overflow-hidden",children:[e.jsx("div",{className:"absolute -left-10 -bottom-10 w-64 h-64 bg-teal-500/10 rounded-full blur-[80px]"}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between relative z-10 gap-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-teal-400 mb-3",children:[e.jsx("div",{className:"p-1.5 bg-teal-500/20 rounded-lg",children:e.jsx(V,{size:18})}),e.jsx("span",{className:"font-bold tracking-widest uppercase text-xs",children:"Energy Intake"})]}),e.jsxs("h2",{className:"text-6xl font-black mb-1 tracking-tighter",children:[v.calories," ",e.jsxs("span",{className:"text-3xl text-slate-500 font-bold",children:["/ ",N.calories]})]}),e.jsx("p",{className:"text-slate-400 font-medium",children:"kcal consumed today"})]}),e.jsx(xt,{radius:70,stroke:14,progress:v.calories/N.calories*100,color:"text-teal-400",bgColor:"text-slate-800"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(oe,{title:"Protein",actual:v.protein,target:N.protein,color:"text-rose-500",bgColor:"text-rose-100/50"}),e.jsx(oe,{title:"Carbs",actual:v.carbs,target:N.carbs,color:"text-amber-500",bgColor:"text-amber-100/50"}),e.jsx(oe,{title:"Fats",actual:v.fats,target:N.fats,color:"text-blue-500",bgColor:"text-blue-100/50"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(Te,{title:"Water Intake",actual:v.water,target:N.water,unit:"L",icon:e.jsx(fe,{size:24,className:"text-sky-500"})}),e.jsx(Te,{title:"Sleep",actual:v.sleep,target:N.sleep,unit:"hrs",icon:e.jsx(ka,{size:24,className:"text-indigo-500"})})]}),e.jsxs("div",{className:"bg-white/60 backdrop-blur-xl rounded-[2.5rem] p-8 shadow-[0_8px_30px_rgb(0,0,0,0.04)] border border-white",children:[e.jsxs("h3",{className:"text-2xl font-black text-slate-800 mb-6 flex items-center gap-3 tracking-tight",children:[e.jsx("div",{className:"bg-teal-50 p-2 rounded-xl text-teal-600 border border-teal-100/50",children:e.jsx(Q,{size:20})}),"Food Log"]}),P?.length===0?e.jsx("div",{className:"bg-white/40 border border-white/60 rounded-2xl p-8 text-center text-slate-400 font-medium",children:"Nothing logged yet today."}):e.jsx("div",{className:"space-y-4",children:P?.slice().reverse().map(b=>e.jsxs("div",{className:"flex justify-between items-center p-5 bg-white/80 border border-white shadow-sm rounded-2xl hover:shadow-md transition-all group",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-800 capitalize text-lg tracking-tight",children:b.name}),e.jsxs("p",{className:"text-sm text-slate-500 mt-1 font-medium",children:[e.jsxs("span",{className:"text-slate-700 font-bold",children:[b.calories," kcal"]})," ","â€¢ ",b.protein,"g P â€¢ ",b.carbs,"g C â€¢ ",b.fats,"g F"]})]}),e.jsx("button",{onClick:()=>S(b._id),className:"text-slate-300 hover:text-rose-500 bg-slate-50 hover:bg-rose-50 p-2.5 rounded-xl transition-colors",children:e.jsx(Et,{size:18})})]},b._id))})]})]}),e.jsxs("div",{className:"bg-white/60 backdrop-blur-2xl rounded-[2.5rem] p-8 shadow-[0_8px_30px_rgb(0,0,0,0.04)] border border-white h-fit lg:sticky lg:top-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8 pb-6 border-b border-white/50",children:[e.jsx("div",{className:"bg-slate-900 text-white p-2.5 rounded-xl shadow-inner",children:e.jsx(Ra,{size:20})}),e.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight",children:"Quick Log"})]}),e.jsxs("form",{onSubmit:w,className:"space-y-5",children:[e.jsx(F,{label:"Food/Drink Name",name:"name",type:"text",value:m.name,onChange:g,placeholder:"e.g., Grilled Salmon"}),e.jsx(F,{label:"Calories",name:"calories",value:m.calories,onChange:g,placeholder:"+ kcal"}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx(F,{label:"Protein",name:"protein",value:m.protein,onChange:g,placeholder:"+ g"}),e.jsx(F,{label:"Carbs",name:"carbs",value:m.carbs,onChange:g,placeholder:"+ g"}),e.jsx(F,{label:"Fats",name:"fats",value:m.fats,onChange:g,placeholder:"+ g"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-4 mt-2 border-t border-white/50",children:[e.jsx(F,{label:"Water",name:"water",value:m.water,onChange:g,placeholder:"+ L",step:"0.5"}),e.jsx(F,{label:"Sleep",name:"sleep",value:m.sleep,onChange:g,placeholder:"+ hrs",step:"0.5"})]}),e.jsx("button",{type:"submit",disabled:f,className:"w-full mt-8 bg-gradient-to-r from-slate-900 to-slate-800 text-white py-4 rounded-2xl font-black shadow-lg shadow-slate-900/20 hover:shadow-slate-900/40 hover:-translate-y-0.5 transition-all flex items-center justify-center gap-2",children:f?e.jsx(R,{size:20,className:"animate-spin"}):"Log Intake"})]})]})]}),e.jsxs("div",{className:"mt-16 border-t border-slate-200/60 pt-16 space-y-24",children:[e.jsx("section",{children:e.jsx(Qa,{})}),e.jsx("section",{children:e.jsx(Xa,{})})]})]})},xt=({radius:a,stroke:t,progress:s,color:r,bgColor:l})=>{const n=a-t*2,c=n*2*Math.PI,i=Math.max(0,Math.min(s||0,100)),d=c-i/100*c;return e.jsxs("div",{className:"relative flex items-center justify-center drop-shadow-md",children:[e.jsxs("svg",{height:a*2,width:a*2,className:"rotate-[-90deg]",children:[e.jsx("circle",{stroke:"currentColor",fill:"transparent",strokeWidth:t,r:n,cx:a,cy:a,className:`${l}`}),e.jsx("circle",{stroke:"currentColor",fill:"transparent",strokeWidth:t,strokeDasharray:c+" "+c,style:{strokeDashoffset:d,transition:"stroke-dashoffset 1s ease-in-out"},r:n,cx:a,cy:a,className:`${r}`,strokeLinecap:"round"})]}),e.jsxs("div",{className:"absolute text-2xl font-black tracking-tighter",children:[Math.round(i),"%"]})]})},oe=({title:a,actual:t,target:s,color:r,bgColor:l})=>e.jsxs("div",{className:"bg-white/50 backdrop-blur-md p-6 rounded-[2rem] border border-white shadow-sm flex flex-col items-center text-center transition-all hover:-translate-y-1",children:[e.jsx("h4",{className:"text-slate-400 font-black tracking-widest uppercase text-[10px] mb-5",children:a}),e.jsx(xt,{radius:45,stroke:8,progress:s>0?t/s*100:0,color:r,bgColor:l}),e.jsxs("div",{className:"mt-5",children:[e.jsx("span",{className:"text-2xl font-black text-slate-800",children:t}),e.jsxs("span",{className:"text-slate-400 font-bold text-sm",children:[" / ",s,"g"]})]})]}),Te=({title:a,actual:t,target:s,unit:r,icon:l})=>e.jsxs("div",{className:"bg-white/50 backdrop-blur-md p-6 rounded-[2rem] border border-white shadow-sm flex items-center gap-5 transition-all hover:-translate-y-1",children:[e.jsx("div",{className:"bg-white p-4 rounded-2xl shadow-inner border border-slate-50",children:l}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-slate-400 font-black tracking-widest uppercase text-[10px] mb-1",children:a}),e.jsxs("p",{className:"text-3xl font-black text-slate-800 tracking-tight",children:[t," ",e.jsxs("span",{className:"text-lg text-slate-400 font-bold",children:["/ ",s," ",r]})]})]})]}),F=({label:a,name:t,value:s,onChange:r,placeholder:l,step:n="1",type:c="number"})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest pl-2 mb-1.5",children:a}),e.jsx("input",{type:c,step:n,name:t,value:s,onChange:r,placeholder:l,className:"w-full p-3.5 bg-white/60 border border-white shadow-sm rounded-2xl focus:bg-white focus:ring-2 focus:ring-teal-500/50 outline-none transition-all font-semibold text-slate-800 placeholder:text-slate-300 placeholder:font-medium"})]});function te(){return te=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)({}).hasOwnProperty.call(s,r)&&(a[r]=s[r])}return a},te.apply(null,arguments)}function Me(a,t){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),s.push.apply(s,r)}return s}function es(a){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Me(Object(s),!0).forEach(function(r){ts(a,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):Me(Object(s)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(s,r))})}return a}function ts(a,t,s){return(t=as(t))in a?Object.defineProperty(a,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[t]=s,a}function as(a){var t=ss(a,"string");return typeof t=="symbol"?t:t+""}function ss(a,t){if(typeof a!="object"||!a)return a;var s=a[Symbol.toPrimitive];if(s!==void 0){var r=s.call(a,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(a)}var D=32,rs={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function ls(a){var{data:t,iconType:s,inactiveColor:r}=a,l=D/2,n=D/6,c=D/3,i=t.inactive?r:t.color,d=s??t.type;if(d==="none")return null;if(d==="plainline"){var x;return o.createElement("line",{strokeWidth:4,fill:"none",stroke:i,strokeDasharray:(x=t.payload)===null||x===void 0?void 0:x.strokeDasharray,x1:0,y1:l,x2:D,y2:l,className:"recharts-legend-icon"})}if(d==="line")return o.createElement("path",{strokeWidth:4,fill:"none",stroke:i,d:"M0,".concat(l,"h").concat(c,`
            A`).concat(n,",").concat(n,",0,1,1,").concat(2*c,",").concat(l,`
            H`).concat(D,"M").concat(2*c,",").concat(l,`
            A`).concat(n,",").concat(n,",0,1,1,").concat(c,",").concat(l),className:"recharts-legend-icon"});if(d==="rect")return o.createElement("path",{stroke:"none",fill:i,d:"M0,".concat(D/8,"h").concat(D,"v").concat(D*3/4,"h").concat(-D,"z"),className:"recharts-legend-icon"});if(o.isValidElement(t.legendIcon)){var u=es({},t);return delete u.legendIcon,o.cloneElement(t.legendIcon,u)}return o.createElement(It,{fill:i,cx:l,cy:l,size:D,sizeType:"diameter",type:d})}function is(a){var{payload:t,iconSize:s,layout:r,formatter:l,inactiveColor:n,iconType:c}=a,i={x:0,y:0,width:D,height:D},d={display:r==="horizontal"?"inline-block":"block",marginRight:10},x={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((u,m)=>{var p=u.formatter||l,f=le({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:u.inactive});if(u.type==="none")return null;var h=u.inactive?n:u.color,j=p?p(u.value,u,m):u.value;return o.createElement("li",te({className:f,style:d,key:"legend-item-".concat(m)},_t(a,u,m)),o.createElement(Dt,{width:s,height:s,viewBox:i,style:x,"aria-label":"".concat(j," legend icon")},o.createElement(ls,{data:u,iconType:c,inactiveColor:n})),o.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},j))})}var ns=a=>{var t=re(a,rs),{payload:s,layout:r,align:l}=t;if(!s||!s.length)return null;var n={padding:0,margin:0,textAlign:r==="horizontal"?l:"left"};return o.createElement("ul",{className:"recharts-default-legend",style:n},o.createElement(is,te({},t,{payload:s})))};function os(){return ge(Lt)}var cs=["contextPayload"];function xe(){return xe=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)({}).hasOwnProperty.call(s,r)&&(a[r]=s[r])}return a},xe.apply(null,arguments)}function $e(a,t){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),s.push.apply(s,r)}return s}function Y(a){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?$e(Object(s),!0).forEach(function(r){ds(a,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):$e(Object(s)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(s,r))})}return a}function ds(a,t,s){return(t=us(t))in a?Object.defineProperty(a,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[t]=s,a}function us(a){var t=xs(a,"string");return typeof t=="symbol"?t:t+""}function xs(a,t){if(typeof a!="object"||!a)return a;var s=a[Symbol.toPrimitive];if(s!==void 0){var r=s.call(a,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(a)}function ms(a,t){if(a==null)return{};var s,r,l=ps(a,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);for(r=0;r<n.length;r++)s=n[r],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(a,s)&&(l[s]=a[s])}return l}function ps(a,t){if(a==null)return{};var s={};for(var r in a)if({}.hasOwnProperty.call(a,r)){if(t.indexOf(r)!==-1)continue;s[r]=a[r]}return s}function hs(a){return a.value}function fs(a){var{contextPayload:t}=a,s=ms(a,cs),r=Gt(t,a.payloadUniqBy,hs),l=Y(Y({},s),{},{payload:r});return o.isValidElement(a.content)?o.cloneElement(a.content,l):typeof a.content=="function"?o.createElement(a.content,l):o.createElement(ns,l)}function bs(a,t,s,r,l,n){var{layout:c,align:i,verticalAlign:d}=t,x,u;return(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))&&(i==="center"&&c==="vertical"?x={left:((r||0)-n.width)/2}:x=i==="right"?{right:s&&s.right||0}:{left:s&&s.left||0}),(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))&&(d==="middle"?u={top:((l||0)-n.height)/2}:u=d==="bottom"?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),Y(Y({},x),u)}function gs(a){var t=Ze();return o.useEffect(()=>{t(Kt(a))},[t,a]),null}function vs(a){var t=Ze();return o.useEffect(()=>(t(Ce(a)),()=>{t(Ce({width:0,height:0}))}),[t,a]),null}function ys(a,t,s,r){return a==="vertical"&&t!=null?{height:t}:a==="horizontal"?{width:s||r}:null}var js={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function mt(a){var t=re(a,js),s=os(),r=Tt(),l=Mt(),{width:n,height:c,wrapperStyle:i,portal:d}=t,[x,u]=$t([s]),m=Wt(),p=Ft();if(m==null||p==null)return null;var f=m-(l?.left||0)-(l?.right||0),h=ys(t.layout,c,n,f),j=d?i:Y(Y({position:"absolute",width:h?.width||n||"auto",height:h?.height||c||"auto"},bs(i,t,l,m,p,x)),i),g=d??r;if(g==null||s==null)return null;var w=o.createElement("div",{className:"recharts-legend-wrapper",style:j,ref:u},o.createElement(gs,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!d&&o.createElement(vs,{width:x.width,height:x.height}),o.createElement(fs,xe({},t,h,{margin:l,chartWidth:m,chartHeight:p,contextPayload:s})));return Rt.createPortal(w,g)}mt.displayName="Legend";function me(){return me=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)({}).hasOwnProperty.call(s,r)&&(a[r]=s[r])}return a},me.apply(null,arguments)}var pt=a=>{var{cx:t,cy:s,r,className:l}=a,n=le("recharts-dot",l);return T(t)&&T(s)&&T(r)?o.createElement("circle",me({},ve(a),Ye(a),{className:n,cx:t,cy:s,r})):null},Ns=["points"];function We(a,t){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),s.push.apply(s,r)}return s}function ce(a){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?We(Object(s),!0).forEach(function(r){ws(a,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):We(Object(s)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(s,r))})}return a}function ws(a,t,s){return(t=ks(t))in a?Object.defineProperty(a,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[t]=s,a}function ks(a){var t=Ps(a,"string");return typeof t=="symbol"?t:t+""}function Ps(a,t){if(typeof a!="object"||!a)return a;var s=a[Symbol.toPrimitive];if(s!==void 0){var r=s.call(a,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(a)}function ae(){return ae=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)({}).hasOwnProperty.call(s,r)&&(a[r]=s[r])}return a},ae.apply(null,arguments)}function Ss(a,t){if(a==null)return{};var s,r,l=As(a,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);for(r=0;r<n.length;r++)s=n[r],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(a,s)&&(l[s]=a[s])}return l}function As(a,t){if(a==null)return{};var s={};for(var r in a)if({}.hasOwnProperty.call(a,r)){if(t.indexOf(r)!==-1)continue;s[r]=a[r]}return s}function Os(a){var{option:t,dotProps:s,className:r}=a;if(o.isValidElement(t))return o.cloneElement(t,s);if(typeof t=="function")return t(s);var l=le(r,typeof t!="boolean"?t.className:""),n=s??{},{points:c}=n,i=Ss(n,Ns);return o.createElement(pt,ae({},i,{className:l}))}function Cs(a,t){return a==null?!1:t?!0:a.length===1}function zs(a){var{points:t,dot:s,className:r,dotClassName:l,dataKey:n,baseProps:c,needClip:i,clipPathId:d,zIndex:x=ye.scatter}=a;if(!Cs(t,s))return null;var u=Ue(s),m=Bt(s),p=t.map((h,j)=>{var g,w,S=ce(ce(ce({r:3},c),m),{},{index:j,cx:(g=h.x)!==null&&g!==void 0?g:void 0,cy:(w=h.y)!==null&&w!==void 0?w:void 0,dataKey:n,value:h.value,payload:h.payload,points:t});return o.createElement(Os,{key:"dot-".concat(j),option:s,dotProps:S,className:l})}),f={};return i&&d!=null&&(f.clipPath="url(#clipPath-".concat(u?"":"dots-").concat(d,")")),o.createElement(je,{zIndex:x},o.createElement(Z,ae({className:r},f),p))}function Fe(a,t){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),s.push.apply(s,r)}return s}function de(a){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Fe(Object(s),!0).forEach(function(r){Es(a,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):Fe(Object(s)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(s,r))})}return a}function Es(a,t,s){return(t=_s(t))in a?Object.defineProperty(a,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[t]=s,a}function _s(a){var t=Ds(a,"string");return typeof t=="symbol"?t:t+""}function Ds(a,t){if(typeof a!="object"||!a)return a;var s=a[Symbol.toPrimitive];if(s!==void 0){var r=s.call(a,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(a)}var Is=a=>{var{point:t,childIndex:s,mainColor:r,activeDot:l,dataKey:n,clipPath:c}=a;if(l===!1||t.x==null||t.y==null)return null;var i={index:s,dataKey:n,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},d=de(de(de({},i),Xe(l)),Ye(l)),x;return o.isValidElement(l)?x=o.cloneElement(l,d):typeof l=="function"?x=l(d):x=o.createElement(pt,d),o.createElement(Z,{className:"recharts-active-dot",clipPath:c},x)};function Re(a){var{points:t,mainColor:s,activeDot:r,itemDataKey:l,clipPath:n,zIndex:c=ye.activeDot}=a,i=ge(qt),d=Ht();if(t==null||d==null)return null;var x=t.find(u=>d.includes(u.payload));return Qe(x)?null:o.createElement(je,{zIndex:c},o.createElement(Is,{point:x,childIndex:Number(i),mainColor:s,dataKey:l,activeDot:r,clipPath:n}))}function Ls(a){var t=Xe(a),s=3,r=2;if(t!=null){var{r:l,strokeWidth:n}=t,c=Number(l),i=Number(n);return(Number.isNaN(c)||c<0)&&(c=s),(Number.isNaN(i)||i<0)&&(i=r),{r:c,strokeWidth:i}}return{r:s,strokeWidth:r}}var ht=(a,t,s)=>Je(a,"xAxis",we(a,t),s),ft=(a,t,s)=>et(a,"xAxis",we(a,t),s),bt=(a,t,s)=>Je(a,"yAxis",ke(a,t),s),gt=(a,t,s)=>et(a,"yAxis",ke(a,t),s),Ts=ie([Ne,ht,bt,ft,gt],(a,t,s,r,l)=>tt(a,"xAxis")?ze(t,r,!1):ze(s,l,!1)),Ms=(a,t)=>t,vt=ie([Ut,Ms],(a,t)=>a.filter(s=>s.type==="area").find(s=>s.id===t)),yt=a=>{var t=Ne(a),s=tt(t,"xAxis");return s?"yAxis":"xAxis"},$s=(a,t)=>{var s=yt(a);return s==="yAxis"?ke(a,t):we(a,t)},Ws=(a,t,s)=>Qt(a,yt(a),$s(a,t),s),Fs=ie([vt,Ws],(a,t)=>{var s;if(!(a==null||t==null)){var{stackId:r}=a,l=Yt(a);if(!(r==null||l==null)){var n=(s=t[r])===null||s===void 0?void 0:s.stackedData,c=n?.find(i=>i.key===l);if(c!=null)return c.map(i=>[i[0],i[1]])}}}),Rs=ie([Ne,ht,bt,ft,gt,Fs,Vt,Ts,vt,Zt],(a,t,s,r,l,n,c,i,d,x)=>{var{chartData:u,dataStartIndex:m,dataEndIndex:p}=c;if(!(d==null||a!=="horizontal"&&a!=="vertical"||t==null||s==null||r==null||l==null||r.length===0||l.length===0||i==null)){var{data:f}=d,h;if(f&&f.length>0?h=f:h=u?.slice(m,p+1),h!=null)return ir({layout:a,xAxis:t,yAxis:s,xAxisTicks:r,yAxisTicks:l,dataStartIndex:m,areaSettings:d,stackedData:n,displayedData:h,chartBaseValue:x,bandSize:i})}}),Ks=["id"],Gs=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function K(){return K=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)({}).hasOwnProperty.call(s,r)&&(a[r]=s[r])}return a},K.apply(null,arguments)}function jt(a,t){if(a==null)return{};var s,r,l=Bs(a,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);for(r=0;r<n.length;r++)s=n[r],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(a,s)&&(l[s]=a[s])}return l}function Bs(a,t){if(a==null)return{};var s={};for(var r in a)if({}.hasOwnProperty.call(a,r)){if(t.indexOf(r)!==-1)continue;s[r]=a[r]}return s}function Ke(a,t){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),s.push.apply(s,r)}return s}function H(a){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Ke(Object(s),!0).forEach(function(r){qs(a,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):Ke(Object(s)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(s,r))})}return a}function qs(a,t,s){return(t=Hs(t))in a?Object.defineProperty(a,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[t]=s,a}function Hs(a){var t=Vs(a,"string");return typeof t=="symbol"?t:t+""}function Vs(a,t){if(typeof a!="object"||!a)return a;var s=a[Symbol.toPrimitive];if(s!==void 0){var r=s.call(a,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(a)}function se(a,t){return a&&a!=="none"?a:t}var Zs=a=>{var{dataKey:t,name:s,stroke:r,fill:l,legendType:n,hide:c}=a;return[{inactive:c,dataKey:t,type:n,color:se(r,l),value:st(s,t),payload:a}]},Ys=o.memo(a=>{var{dataKey:t,data:s,stroke:r,strokeWidth:l,fill:n,name:c,hide:i,unit:d,tooltipType:x,id:u}=a,m={dataDefinedOnItem:s,getPosition:ra,settings:{stroke:r,strokeWidth:l,fill:n,dataKey:t,nameKey:void 0,name:st(c,t),hide:i,type:x,color:se(r,n),unit:d,graphicalItemId:u}};return o.createElement(sa,{tooltipEntrySettings:m})});function Us(a){var{clipPathId:t,points:s,props:r}=a,{needClip:l,dot:n,dataKey:c}=r,i=ve(r);return o.createElement(zs,{points:s,dot:n,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:c,baseProps:i,needClip:l,clipPathId:t})}function Qs(a){var{showLabels:t,children:s,points:r}=a,l=r.map(n=>{var c,i,d={x:(c=n.x)!==null&&c!==void 0?c:0,y:(i=n.y)!==null&&i!==void 0?i:0,width:0,lowerWidth:0,upperWidth:0,height:0};return H(H({},d),{},{value:n.value,payload:n.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return o.createElement(ha,{value:t?l:void 0},s)}function Ge(a){var{points:t,baseLine:s,needClip:r,clipPathId:l,props:n}=a,{layout:c,type:i,stroke:d,connectNulls:x,isRange:u}=n,{id:m}=n,p=jt(n,Ks),f=ve(p),h=fa(p);return o.createElement(o.Fragment,null,t?.length>1&&o.createElement(Z,{clipPath:r?"url(#clipPath-".concat(l,")"):void 0},o.createElement(ne,K({},h,{id:m,points:t,connectNulls:x,type:i,baseLine:s,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&o.createElement(ne,K({},f,{className:"recharts-area-curve",layout:c,type:i,connectNulls:x,fill:"none",points:t})),d!=="none"&&u&&o.createElement(ne,K({},f,{className:"recharts-area-curve",layout:c,type:i,connectNulls:x,fill:"none",points:s}))),o.createElement(Us,{points:t,props:p,clipPathId:l}))}function Xs(a){var t,s,{alpha:r,baseLine:l,points:n,strokeWidth:c}=a,i=(t=n[0])===null||t===void 0?void 0:t.y,d=(s=n[n.length-1])===null||s===void 0?void 0:s.y;if(!J(i)||!J(d))return null;var x=r*Math.abs(i-d),u=Math.max(...n.map(m=>m.x||0));return T(l)?u=Math.max(l,u):l&&Array.isArray(l)&&l.length&&(u=Math.max(...l.map(m=>m.x||0),u)),T(u)?o.createElement("rect",{x:0,y:i<d?i:i-x,width:u+(c?parseInt("".concat(c),10):1),height:Math.floor(x)}):null}function Js(a){var t,s,{alpha:r,baseLine:l,points:n,strokeWidth:c}=a,i=(t=n[0])===null||t===void 0?void 0:t.x,d=(s=n[n.length-1])===null||s===void 0?void 0:s.x;if(!J(i)||!J(d))return null;var x=r*Math.abs(i-d),u=Math.max(...n.map(m=>m.y||0));return T(l)?u=Math.max(l,u):l&&Array.isArray(l)&&l.length&&(u=Math.max(...l.map(m=>m.y||0),u)),T(u)?o.createElement("rect",{x:i<d?i:i-x,y:0,width:x,height:Math.floor(u+(c?parseInt("".concat(c),10):1))}):null}function er(a){var{alpha:t,layout:s,points:r,baseLine:l,strokeWidth:n}=a;return s==="vertical"?o.createElement(Xs,{alpha:t,points:r,baseLine:l,strokeWidth:n}):o.createElement(Js,{alpha:t,points:r,baseLine:l,strokeWidth:n})}function tr(a){var{needClip:t,clipPathId:s,props:r,previousPointsRef:l,previousBaselineRef:n}=a,{points:c,baseLine:i,isAnimationActive:d,animationBegin:x,animationDuration:u,animationEasing:m,onAnimationStart:p,onAnimationEnd:f}=r,h=o.useMemo(()=>({points:c,baseLine:i}),[c,i]),j=da(h,"recharts-area-"),g=ua(),[w,S]=o.useState(!1),N=!w,v=o.useCallback(()=>{typeof f=="function"&&f(),S(!1)},[f]),P=o.useCallback(()=>{typeof p=="function"&&p(),S(!0)},[p]);if(g==null)return null;var b=l.current,y=n.current;return o.createElement(Qs,{showLabels:N,points:c},r.children,o.createElement(xa,{animationId:j,begin:x,duration:u,isActive:d,easing:m,onAnimationEnd:v,onAnimationStart:P,key:j},k=>{if(b){var E=b.length/c.length,M=k===1?c:c.map((A,L)=>{var W=Math.floor(L*E);if(b[W]){var U=b[W];return H(H({},A),{},{x:G(U.x,A.x,k),y:G(U.y,A.y,k)})}return A}),I;return T(i)?I=G(y,i,k):Qe(i)||ma(i)?I=G(y,0,k):I=i.map((A,L)=>{var W=Math.floor(L*E);if(Array.isArray(y)&&y[W]){var U=y[W];return H(H({},A),{},{x:G(U.x,A.x,k),y:G(U.y,A.y,k)})}return A}),k>0&&(l.current=M,n.current=I),o.createElement(Ge,{points:M,baseLine:I,needClip:t,clipPathId:s,props:r})}return k>0&&(l.current=c,n.current=i),o.createElement(Z,null,d&&o.createElement("defs",null,o.createElement("clipPath",{id:"animationClipPath-".concat(s)},o.createElement(er,{alpha:k,points:c,baseLine:i,layout:g,strokeWidth:r.strokeWidth}))),o.createElement(Z,{clipPath:"url(#animationClipPath-".concat(s,")")},o.createElement(Ge,{points:c,baseLine:i,needClip:t,clipPathId:s,props:r})))}),o.createElement(pa,{label:r.label}))}function ar(a){var{needClip:t,clipPathId:s,props:r}=a,l=o.useRef(null),n=o.useRef();return o.createElement(tr,{needClip:t,clipPathId:s,props:r,previousPointsRef:l,previousBaselineRef:n})}class sr extends o.PureComponent{render(){var{hide:t,dot:s,points:r,className:l,top:n,left:c,needClip:i,xAxisId:d,yAxisId:x,width:u,height:m,id:p,baseLine:f,zIndex:h}=this.props;if(t)return null;var j=le("recharts-area",l),g=p,{r:w,strokeWidth:S}=Ls(s),N=Ue(s),v=w*2+S,P=i?"url(#clipPath-".concat(N?"":"dots-").concat(g,")"):void 0;return o.createElement(je,{zIndex:h},o.createElement(Z,{className:j},i&&o.createElement("defs",null,o.createElement(ca,{clipPathId:g,xAxisId:d,yAxisId:x}),!N&&o.createElement("clipPath",{id:"clipPath-dots-".concat(g)},o.createElement("rect",{x:c-v/2,y:n-v/2,width:u+v,height:m+v}))),o.createElement(ar,{needClip:i,clipPathId:g,props:this.props})),o.createElement(Re,{points:r,mainColor:se(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}),this.props.isRange&&Array.isArray(f)&&o.createElement(Re,{points:f,mainColor:se(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}))}}var Nt={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:ye.area};function rr(a){var t,s=re(a,Nt),{activeDot:r,animationBegin:l,animationDuration:n,animationEasing:c,connectNulls:i,dot:d,fill:x,fillOpacity:u,hide:m,isAnimationActive:p,legendType:f,stroke:h,xAxisId:j,yAxisId:g}=s,w=jt(s,Gs),S=la(),N=ia(),{needClip:v}=na(j,g),P=at(),{points:b,isRange:y,baseLine:k}=(t=ge(W=>Rs(W,a.id,P)))!==null&&t!==void 0?t:{},E=oa();if(S!=="horizontal"&&S!=="vertical"||E==null||N!=="AreaChart"&&N!=="ComposedChart")return null;var{height:M,width:I,x:A,y:L}=E;return!b||!b.length?null:o.createElement(sr,K({},w,{activeDot:r,animationBegin:l,animationDuration:n,animationEasing:c,baseLine:k,connectNulls:i,dot:d,fill:x,fillOpacity:u,height:M,hide:m,layout:S,isAnimationActive:p==="auto"?!ba.isSsr:p,isRange:y,legendType:f,needClip:v,points:b,stroke:h,width:I,left:A,top:L,xAxisId:j,yAxisId:g}))}var lr=(a,t,s,r,l)=>{var n=s??t;if(T(n))return n;var c=a==="horizontal"?l:r,i=c.scale.domain();if(c.type==="number"){var d=Math.max(i[0],i[1]),x=Math.min(i[0],i[1]);return n==="dataMin"?x:n==="dataMax"||d<0?d:Math.max(Math.min(i[0],i[1]),0)}return n==="dataMin"?i[0]:n==="dataMax"?i[1]:i[0]};function ir(a){var{areaSettings:{connectNulls:t,baseValue:s,dataKey:r},stackedData:l,layout:n,chartBaseValue:c,xAxis:i,yAxis:d,displayedData:x,dataStartIndex:u,xAxisTicks:m,yAxisTicks:p,bandSize:f}=a,h=l&&l.length,j=lr(n,c,s,i,d),g=n==="horizontal",w=!1,S=x.map((v,P)=>{var b,y,k,E;if(h)E=l[u+P];else{var M=Ee(v,r);Array.isArray(M)?(E=M,w=!0):E=[j,M]}var I=(b=(y=E)===null||y===void 0?void 0:y[1])!==null&&b!==void 0?b:null,A=I==null||h&&!t&&Ee(v,r)==null;if(g){var L;return{x:_e({axis:i,ticks:m,bandSize:f,entry:v,index:P}),y:A?null:(L=d.scale.map(I))!==null&&L!==void 0?L:null,value:E,payload:v}}return{x:A?null:(k=i.scale.map(I))!==null&&k!==void 0?k:null,y:_e({axis:d,ticks:p,bandSize:f,entry:v,index:P}),value:E,payload:v}}),N;return h||w?N=S.map(v=>{var P,b=Array.isArray(v.value)?v.value[0]:null;if(g){var y;return{x:v.x,y:b!=null&&v.y!=null&&(y=d.scale.map(b))!==null&&y!==void 0?y:null,payload:v.payload}}return{x:b!=null&&(P=i.scale.map(b))!==null&&P!==void 0?P:null,y:v.y,payload:v.payload}}):N=g?d.scale.map(j):i.scale.map(j),{points:S,baseLine:N??0,isRange:w}}function nr(a){var t=re(a,Nt),s=at();return o.createElement(Jt,{id:t.id,type:"area"},r=>o.createElement(o.Fragment,null,o.createElement(ea,{legendPayload:Zs(t)}),o.createElement(Ys,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),o.createElement(ta,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:aa(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:s,connectNulls:t.connectNulls}),o.createElement(rr,K({},t,{id:r}))))}var pe=o.memo(nr,Xt);pe.displayName="Area";var or=["axis"],cr=o.forwardRef((a,t)=>o.createElement(ga,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:or,tooltipPayloadSearcher:va,categoricalChartProps:a,ref:t}));const dr=()=>{const[a,t]=o.useState(!0),[s,r]=o.useState([]);return o.useEffect(()=>{(async()=>{try{const{data:n}=await z.get("/api/progress/weekly");if(n.success){const c=n.weeklyData.map(i=>({name:i.day,calActual:i.actuals.calories,calTarget:i.targets.calories,proActual:i.actuals.protein,proTarget:i.targets.protein,carbActual:i.actuals.carbs,carbTarget:i.targets.carbs,fatActual:i.actuals.fats,fatTarget:i.targets.fats,waterActual:i.actuals.water,waterTarget:i.targets.water,sleepActual:i.actuals.sleep,sleepTarget:i.targets.sleep}));r(c)}}catch{O.error("Failed to load weekly progress.")}finally{t(!1)}})()},[]),a?e.jsx("div",{className:"min-h-[70vh] flex flex-col justify-center items-center",children:e.jsxs("div",{className:"bg-white/60 backdrop-blur-xl p-8 rounded-3xl border border-white shadow-xl flex flex-col items-center",children:[e.jsx(R,{className:"animate-spin text-teal-500 mb-4",size:48}),e.jsx("p",{className:"text-slate-500 font-bold tracking-widest uppercase text-sm",children:"Loading Trends"})]})}):e.jsxs("div",{className:"max-w-6xl mx-auto  pt-4 animate-in fade-in duration-700 relative z-10 pb-32",children:[e.jsxs("div",{className:"mb-10 mt-8 flex items-center gap-5",children:[e.jsx("div",{className:"bg-white/60 backdrop-blur-xl p-4 rounded-3xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] border border-white",children:e.jsx(ct,{className:"text-teal-600",size:32})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tight",children:"Weekly Progress"}),e.jsx("p",{className:"text-slate-500 font-medium text-lg mt-1",children:"Your 7-day totals and daily breakdowns."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsx(B,{title:"Calories",unit:"kcal",data:s,actualKey:"calActual",targetKey:"calTarget",actualColor:"#0d9488",targetColor:"#ccfbf1"}),e.jsx(B,{title:"Protein",unit:"g",data:s,actualKey:"proActual",targetKey:"proTarget",actualColor:"#f43f5e",targetColor:"#ffe4e6"}),e.jsx(B,{title:"Carbs",unit:"g",data:s,actualKey:"carbActual",targetKey:"carbTarget",actualColor:"#f59e0b",targetColor:"#fef3c7"}),e.jsx(B,{title:"Fats",unit:"g",data:s,actualKey:"fatActual",targetKey:"fatTarget",actualColor:"#3b82f6",targetColor:"#dbeafe"}),e.jsx(B,{title:"Water",unit:"L",data:s,actualKey:"waterActual",targetKey:"waterTarget",actualColor:"#0ea5e9",targetColor:"#e0f2fe"}),e.jsx(B,{title:"Sleep",unit:"hrs",data:s,actualKey:"sleepActual",targetKey:"sleepTarget",actualColor:"#6366f1",targetColor:"#e0e7ff"})]})]})},B=({title:a,unit:t,data:s,actualKey:r,targetKey:l,actualColor:n,targetColor:c})=>{const i=s.reduce((u,m)=>u+(m[r]||0),0),d=s.reduce((u,m)=>u+(m[l]||0),0),x=d>0?Math.round(i/d*100):0;return e.jsxs("div",{className:"bg-white/60 backdrop-blur-xl rounded-[2.5rem] p-8 shadow-[0_8px_30px_rgb(0,0,0,0.04)] border border-white flex flex-col hover:shadow-[0_20px_60px_rgb(20,184,166,0.1)] transition-all duration-500",children:[e.jsxs("div",{className:"flex justify-between items-start mb-8 pb-6 border-b border-white/50",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight",children:a}),e.jsx("p",{className:"text-slate-400 font-bold text-[10px] uppercase tracking-widest mt-1",children:"7-Day Total"})]}),e.jsxs("div",{className:"text-right flex flex-col items-end",children:[e.jsxs("div",{className:"flex items-baseline gap-1.5",children:[e.jsx("span",{className:"text-3xl font-black text-slate-900",children:Math.round(i)}),e.jsxs("span",{className:"text-slate-400 font-bold text-sm",children:["/ ",Math.round(d)," ",t]})]}),e.jsxs("div",{className:`mt-2 inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold border ${x>=100?"bg-emerald-50/80 border-emerald-200 text-emerald-700":x>=80?"bg-amber-50/80 border-amber-200 text-amber-700":"bg-rose-50/80 border-rose-200 text-rose-700"}`,children:[e.jsx($,{size:12})," ",x,"% Achieved"]})]})]}),e.jsx("div",{className:"h-64 w-full",children:e.jsx(rt,{width:"100%",height:"100%",children:e.jsxs(ya,{data:s,margin:{top:0,right:0,left:-20,bottom:0},children:[e.jsx(lt,{strokeDasharray:"3 3",vertical:!1,stroke:"rgba(0,0,0,0.05)"}),e.jsx(it,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12,fontWeight:700},dy:10}),e.jsx(nt,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12,fontWeight:600}}),e.jsx(ot,{cursor:{fill:"rgba(255,255,255,0.4)"},contentStyle:{borderRadius:"1rem",border:"1px solid rgba(255,255,255,1)",backgroundColor:"rgba(255,255,255,0.8)",backdropFilter:"blur(12px)",boxShadow:"0 10px 20px rgba(0,0,0,0.08)",fontWeight:"bold",color:"#0f172a"},itemStyle:{fontWeight:"800"}}),e.jsx(De,{dataKey:l,name:"Target",fill:c,radius:[6,6,0,0],barSize:24}),e.jsx(De,{dataKey:r,name:"Actual",fill:n,radius:[6,6,0,0],barSize:24})]})})})]})},ur=({setActiveTab:a})=>{const{user:t}=he(),[s,r]=o.useState(!0),[l,n]=o.useState(null),[c,i]=o.useState({plan:null,exercises:null,food:null});o.useEffect(()=>{(async()=>{r(!0);try{const f=new Date().toISOString().split("T")[0],[h,j,g,w]=await Promise.allSettled([z.get("/api/dashboard/full"),z.get("/api/dailyPlan/today"),z.get(`/api/exercises/suggest?date=${f}`),z.get(`/api/food/suggest?date=${f}`)]);if(h.status==="fulfilled"&&h.value.data.success)n(h.value.data);else throw new Error("Failed to load core dashboard data.");i({plan:j.status==="fulfilled"?j.value.data.plan:null,exercises:g.status==="fulfilled"?g.value.data.data:null,food:w.status==="fulfilled"?w.value.data.data:null})}catch(f){O.error(f.message||"Failed to sync data.")}finally{r(!1)}})()},[]);const d=()=>{const p=new Date().getHours();return p<12?"Good Morning":p<18?"Good Afternoon":"Good Evening"};if(s)return e.jsx("div",{className:"min-h-[70vh] flex flex-col justify-center items-center font-sans pb-32",children:e.jsxs("div",{className:"bg-white/60 backdrop-blur-xl p-8 rounded-[2rem] border border-white shadow-xl flex flex-col items-center",children:[e.jsx(R,{className:"animate-spin text-teal-500 mb-4",size:48}),e.jsx("p",{className:"text-slate-500 font-bold tracking-widest uppercase text-sm",children:"Syncing Biometrics"})]})});if(!l||!l.profile)return e.jsx("div",{className:"max-w-3xl mx-auto pt-20 animate-in fade-in zoom-in-95 duration-500 font-sans",children:e.jsxs("div",{className:"bg-white/70 backdrop-blur-2xl p-12 rounded-[3rem] shadow-[0_20px_60px_rgb(0,0,0,0.08)] border border-white text-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-64 h-64 bg-amber-400/20 rounded-full blur-[80px] -z-10"}),e.jsx("div",{className:"w-24 h-24 bg-amber-50 text-amber-500 rounded-[2rem] flex items-center justify-center mx-auto mb-6 shadow-inner border border-white",children:e.jsx(ue,{size:48})}),e.jsx("h2",{className:"text-3xl font-black text-slate-900 mb-3 tracking-tight",children:"Profile Incomplete"}),e.jsx("p",{className:"text-slate-500 font-medium text-lg max-w-lg mx-auto mb-8",children:"Please set up your body metrics in the Profile tab to unlock your AI performance dashboard."}),e.jsxs("button",{onClick:()=>a("profile"),className:"inline-flex items-center gap-2 bg-slate-900 text-white px-8 py-4 rounded-full font-bold shadow-lg hover:bg-slate-800 transition-colors",children:["Complete Profile ",e.jsx(Se,{size:20})]})]})});const{profile:x,thirtyDay:u,lifetime:m}=l;return e.jsxs("div",{className:"relative min-h-screen font-sans text-slate-800 bg-slate-50 overflow-hidden pt-16 pb-24 px-6 md:px-12",children:[e.jsx("div",{className:"absolute top-0 right-1/4 w-[30rem] h-[30rem] bg-teal-400/10 rounded-full blur-[120px] pointer-events-none"}),e.jsx("div",{className:"absolute bottom-1/4 left-1/4 w-96 h-96 bg-emerald-400/10 rounded-full blur-[120px] pointer-events-none"}),e.jsxs("div",{className:"max-w-7xl mx-auto relative z-10 animate-in fade-in duration-700",children:[e.jsx("div",{className:"mb-12 flex flex-col md:flex-row md:items-end justify-between gap-6 border-b border-slate-200/60 pb-8",children:e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:"bg-white/80 backdrop-blur-xl p-4 rounded-[2rem] shadow-sm border border-white text-teal-600",children:e.jsx(Sa,{size:36})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl md:text-5xl font-black text-slate-900 tracking-tight leading-tight",children:[d(),","," ",e.jsx("span",{className:"bg-gradient-to-r from-teal-600 to-emerald-500 bg-clip-text text-transparent capitalize",children:t?.name||"Athlete"})]}),e.jsxs("p",{className:"text-slate-500 font-medium text-lg mt-2 flex items-center gap-2",children:[e.jsx(Ve,{size:16,className:"opacity-50"})," ",t?.email||"No email provided"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-8",children:[e.jsx("div",{className:"xl:col-span-1 space-y-6",children:e.jsxs("div",{className:"bg-white/70 backdrop-blur-2xl rounded-[2.5rem] p-8 shadow-[0_8px_30px_rgb(0,0,0,0.04)] border border-white h-full hover:shadow-[0_20px_60px_rgb(20,184,166,0.1)] transition-shadow duration-500",children:[e.jsxs("div",{className:"flex flex-col items-center mb-8 pb-8 border-b border-slate-200/60 text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-teal-100 to-emerald-50 rounded-[2rem] flex items-center justify-center mb-4 border-2 border-white shadow-inner relative group",children:e.jsx(ue,{size:40,className:"text-teal-600 group-hover:scale-110 transition-transform duration-300"})}),e.jsx("h3",{className:"text-2xl font-black text-slate-800 capitalize tracking-tight",children:x.basic?.gender||"User"}),e.jsxs("div",{className:"inline-flex items-center gap-2 bg-teal-50/80 backdrop-blur-md px-4 py-1.5 rounded-full mt-3 border border-teal-100/50",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-teal-500 animate-pulse"}),e.jsxs("p",{className:"text-teal-700 font-bold text-sm",children:["Age: ",x.basic?.age||"-"]})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs(X,{title:"Vitals & Body",icon:e.jsx(ee,{size:16}),children:[e.jsx(_,{icon:e.jsx(Ot,{size:16}),label:"Height",value:`${x.basic?.height||"-"} cm`}),e.jsx(_,{icon:e.jsx(Ct,{size:16}),label:"Weight",value:`${x.basic?.weight||"-"} kg`}),e.jsx(_,{icon:e.jsx(V,{size:16}),label:"Body Fat",value:`${x.basic?.bodyFat||"-"}%`})]}),e.jsxs(X,{title:"Core Goals",icon:e.jsx($,{size:16}),children:[e.jsx(_,{icon:e.jsx(Le,{size:16}),label:"Focus",value:x.goals?.primaryGoal?.replace("_"," ")||"Not set",highlight:!0}),e.jsx(_,{icon:e.jsx($,{size:16}),label:"Target Wt",value:`${x.goals?.targetWeight||"-"} kg`}),e.jsx(_,{icon:e.jsx(be,{size:16}),label:"Timeline",value:`${x.goals?.timeline||"-"} weeks`,capitalize:!0})]}),e.jsxs(X,{title:"Lifestyle",icon:e.jsx(Oe,{size:16}),children:[e.jsx(_,{icon:e.jsx(ee,{size:16}),label:"Activity",value:x.lifestyle?.activityLevel||"Not set",capitalize:!0}),e.jsx(_,{icon:e.jsx(La,{size:16}),label:"Daily Steps",value:x.lifestyle?.stepsPerDay||"-"}),e.jsx(_,{icon:e.jsx(Oe,{size:16}),label:"Job Type",value:x.lifestyle?.jobType||"-",capitalize:!0}),e.jsx(_,{icon:e.jsx(Q,{size:16}),label:"Diet Pref",value:x.basic?.regionFoodPreference||"Mixed",capitalize:!0})]}),e.jsxs(X,{title:"Health Specs",icon:e.jsx(Ie,{size:16}),children:[e.jsx(_,{icon:e.jsx(fe,{size:16}),label:"Water Goal",value:`${x.health?.waterTarget||"-"} L/day`}),e.jsx(_,{icon:e.jsx(Wa,{size:16}),label:"Sleep Goal",value:`${x.health?.sleepTarget||"-"} hrs`}),e.jsxs("div",{className:"pt-3 space-y-4",children:[e.jsx(Be,{label:"Medical",icon:e.jsx(Ie,{size:14}),data:x.health?.medicalConditions}),e.jsx(Be,{label:"Allergies",icon:e.jsx(qa,{size:14}),data:x.health?.allergies})]})]})]})]})}),e.jsxs("div",{className:"xl:col-span-3 space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 backdrop-blur-2xl rounded-[2.5rem] p-8 lg:p-10 shadow-2xl border border-slate-700 relative overflow-hidden text-white",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-teal-500/10 rounded-full blur-[80px] pointer-events-none"}),e.jsxs("div",{className:"flex justify-between items-end mb-8 border-b border-slate-700 pb-6 relative z-10",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-3xl font-black text-white flex items-center gap-3 tracking-tight mb-2",children:"Today's Overview"}),e.jsx("p",{className:"text-slate-400 font-medium text-lg",children:"Your quick snapshot of today's targets and protocols."})]}),e.jsxs("button",{onClick:()=>a("diet"),className:"hidden md:flex items-center gap-2 bg-white/10 hover:bg-white/20 text-white px-5 py-2.5 rounded-full font-bold text-sm transition-colors backdrop-blur-md border border-white/10",children:["Full Plan ",e.jsx(Se,{size:16})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 relative z-10",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-[2rem] p-6 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4 text-teal-400",children:[e.jsx($,{size:20})," ",e.jsx("h4",{className:"font-bold tracking-widest uppercase text-xs",children:"Macros"})]}),c.plan?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-baseline",children:[e.jsx("span",{className:"text-slate-400 font-medium",children:"Calories"}),e.jsxs("span",{className:"text-2xl font-black text-white",children:[c.plan.actuals.calories," ",e.jsxs("span",{className:"text-sm text-slate-500",children:["/ ",c.plan.targets.calories]})]})]}),e.jsx("div",{className:"w-full h-2 bg-slate-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-teal-400 to-emerald-400 rounded-full",style:{width:`${Math.min(c.plan.actuals.calories/c.plan.targets.calories*100,100)}%`}})}),e.jsxs("div",{className:"flex justify-between text-xs font-bold pt-2 border-t border-slate-700/50",children:[e.jsxs("span",{className:"text-rose-400",children:["P: ",c.plan.actuals.protein,"g"]}),e.jsxs("span",{className:"text-amber-400",children:["C: ",c.plan.actuals.carbs,"g"]}),e.jsxs("span",{className:"text-blue-400",children:["F: ",c.plan.actuals.fats,"g"]})]})]}):e.jsx("p",{className:"text-slate-400 text-sm italic",children:"No plan generated for today."})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-[2rem] p-6 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4 text-emerald-400",children:[e.jsx(Da,{size:20})," ",e.jsx("h4",{className:"font-bold tracking-widest uppercase text-xs",children:"Workout"})]}),c.exercises?.exercises?.length>0?e.jsxs("ul",{className:"space-y-3",children:[c.exercises.exercises.slice(0,3).map((p,f)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(dt,{size:16,className:"text-emerald-500 shrink-0 mt-0.5"}),e.jsx("span",{className:"font-semibold text-slate-200 line-clamp-1",children:p.name})]},f)),c.exercises.exercises.length>3&&e.jsxs("li",{className:"text-xs text-slate-500 font-bold pl-6",children:["+ ",c.exercises.exercises.length-3," more"]})]}):e.jsx("p",{className:"text-slate-400 text-sm italic",children:"Rest day or no exercises loaded."})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-[2rem] p-6 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4 text-orange-400",children:[e.jsx(Q,{size:20})," ",e.jsx("h4",{className:"font-bold tracking-widest uppercase text-xs",children:"Meals"})]}),c.food?.menu?e.jsx("ul",{className:"space-y-3",children:Object.keys(c.food.menu).map((p,f)=>{const h=c.food.menu[p];return!h||h.length===0||f>2?null:e.jsxs("li",{className:"text-sm",children:[e.jsx("span",{className:"font-black text-slate-400 capitalize block text-[10px] uppercase tracking-widest",children:p}),e.jsx("span",{className:"font-semibold text-slate-200 line-clamp-1",children:h[0].name})]},f)})}):e.jsx("p",{className:"text-slate-400 text-sm italic",children:"No specific meals suggested."})]})]})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-2xl rounded-[2.5rem] p-8 lg:p-10 shadow-[0_8px_30px_rgb(0,0,0,0.04)] border border-white transition-all duration-500 hover:shadow-[0_20px_60px_rgb(20,184,166,0.1)]",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-start mb-10 gap-6 border-b border-slate-200/60 pb-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-3xl font-black text-slate-900 flex items-center gap-3 tracking-tight",children:[e.jsx("div",{className:"bg-teal-50 text-teal-600 p-2 rounded-xl border border-teal-100",children:e.jsx(ja,{size:24})}),"Past 30 Days"]}),e.jsx("p",{className:"text-slate-500 font-medium mt-3 text-lg",children:"Energy intake trends vs. targets."})]}),e.jsx(qe,{percentage:u.percentage})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10",children:[e.jsx(q,{title:"Total Consumed",value:u.totals.calActual.toLocaleString(),unit:"kcal",icon:e.jsx(V,{size:20,className:"text-orange-500"})}),e.jsx(q,{title:"Total Target",value:u.totals.calTarget.toLocaleString(),unit:"kcal",icon:e.jsx($,{size:20,className:"text-teal-500"})}),e.jsx(q,{title:"Avg Daily Intake",value:u.averages.calActual.toLocaleString(),unit:"kcal/day",highlight:!0})]}),e.jsx(He,{data:u.chartData})]}),e.jsxs("div",{className:"bg-slate-900/95 backdrop-blur-2xl rounded-[2.5rem] p-8 lg:p-10 shadow-2xl border border-slate-700 relative overflow-hidden text-white group",children:[e.jsx("div",{className:"absolute top-0 right-0 w-80 h-80 bg-emerald-500/10 rounded-full blur-[80px] pointer-events-none transition-transform duration-700 group-hover:scale-125"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-start mb-10 gap-6 border-b border-slate-800 pb-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-3xl font-black text-white flex items-center gap-3 tracking-tight",children:[e.jsx("div",{className:"bg-emerald-500/20 text-emerald-400 p-2 rounded-xl border border-emerald-500/30",children:e.jsx(Le,{size:24})}),"Lifetime Progress"]}),e.jsxs("p",{className:"text-slate-400 font-medium mt-3 text-lg",children:["From day one to today (",m.daysTracked," days tracked)."]})]}),e.jsx(qe,{percentage:m.percentage,dark:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10",children:[e.jsx(q,{dark:!0,title:"Total Consumed",value:m.totals.calActual.toLocaleString(),unit:"kcal",icon:e.jsx(V,{size:20,className:"text-orange-400"})}),e.jsx(q,{dark:!0,title:"Total Target",value:m.totals.calTarget.toLocaleString(),unit:"kcal",icon:e.jsx($,{size:20,className:"text-blue-400"})}),e.jsx(q,{dark:!0,title:"Avg Daily Intake",value:m.averages.calActual.toLocaleString(),unit:"kcal/day",highlight:!0})]}),e.jsx(He,{data:m.chartData,dark:!0})]})]})]})]})]})]})},X=({title:a,icon:t,children:s})=>e.jsxs("div",{children:[e.jsxs("h4",{className:"flex items-center gap-2 text-xs font-black text-slate-400 uppercase tracking-widest mb-4 pb-2 border-b border-slate-200/60",children:[e.jsx("span",{className:"text-teal-500",children:t})," ",a]}),e.jsx("div",{className:"space-y-3.5",children:s})]}),_=({icon:a,label:t,value:s,highlight:r,capitalize:l})=>e.jsxs("div",{className:"flex justify-between items-center group",children:[e.jsxs("div",{className:"flex items-center gap-2.5 text-slate-500 group-hover:text-teal-600 transition-colors",children:[e.jsx("span",{className:"bg-slate-50 p-1.5 rounded-lg border border-slate-100 shadow-sm",children:a}),e.jsx("span",{className:"text-sm font-semibold",children:t})]}),e.jsx("span",{className:`text-sm font-black text-right ${l?"capitalize":""} ${r?"text-teal-600":"text-slate-800"}`,children:s})]}),Be=({label:a,icon:t,data:s})=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2.5 text-slate-500 mb-3",children:[e.jsx("span",{className:"bg-slate-50 p-1.5 rounded-lg border border-slate-100 shadow-sm",children:t}),e.jsx("span",{className:"text-sm font-semibold",children:a})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s&&s.length>0?s.map((r,l)=>e.jsx("span",{className:"bg-white/80 backdrop-blur-sm border border-slate-200 text-slate-700 px-4 py-1.5 rounded-full text-xs font-bold capitalize shadow-sm",children:r},l)):e.jsx("span",{className:"text-slate-400 text-sm font-medium italic bg-slate-50 px-4 py-1.5 rounded-full border border-slate-100",children:"None specified"})})]}),qe=({percentage:a,dark:t})=>e.jsxs("div",{className:`flex flex-col md:items-end ${t?"text-white":"text-slate-900"}`,children:[e.jsx("span",{className:"text-xs font-bold uppercase tracking-widest opacity-60 mb-1",children:"Adherence Rate"}),e.jsxs("div",{className:`text-4xl font-black flex items-center gap-2 ${a>=100?"text-emerald-500":a>=80?"text-amber-500":"text-rose-500"}`,children:[e.jsx($,{size:32})," ",a,"%"]})]}),q=({title:a,value:t,unit:s,highlight:r,dark:l,icon:n})=>e.jsxs("div",{className:`p-6 rounded-[2rem] border transition-all duration-300 hover:-translate-y-1 relative overflow-hidden ${l?"bg-slate-800/40 backdrop-blur-md border-slate-700 hover:bg-slate-800/60":"bg-white/60 backdrop-blur-md border-white shadow-[0_4px_20px_rgb(0,0,0,0.03)] hover:shadow-[0_8px_30px_rgb(0,0,0,0.06)]"}`,children:[r&&e.jsx("div",{className:`absolute top-0 left-0 w-full h-1.5 ${l?"bg-teal-400":"bg-teal-500"}`}),e.jsxs("div",{className:"flex items-center gap-2 mb-3 mt-1",children:[n&&e.jsx("span",{className:l?"opacity-80":"",children:n}),e.jsx("h4",{className:`text-xs font-bold uppercase tracking-widest ${l?"text-slate-400":"text-slate-500"}`,children:a})]}),e.jsxs("div",{className:"flex items-baseline gap-1.5",children:[e.jsx("span",{className:`text-3xl font-black ${r?l?"text-teal-400":"text-teal-600":l?"text-white":"text-slate-900"}`,children:t}),e.jsx("span",{className:`text-sm font-bold ${l?"text-slate-500":"text-slate-400"}`,children:s})]})]}),He=({data:a,dark:t})=>e.jsx("div",{className:"h-80 w-full mt-8",children:e.jsx(rt,{width:"100%",height:"100%",children:e.jsxs(cr,{data:a,margin:{top:10,right:10,left:-20,bottom:0},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:t?"colorActualDark":"colorActualLight",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:t?"#14b8a6":"#0d9488",stopOpacity:.5}),e.jsx("stop",{offset:"95%",stopColor:t?"#14b8a6":"#0d9488",stopOpacity:0})]})}),e.jsx(lt,{strokeDasharray:"3 3",vertical:!1,stroke:t?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.05)"}),e.jsx(it,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12,fontWeight:700},dy:10}),e.jsx(nt,{axisLine:!1,tickLine:!1,tick:{fill:t?"#64748b":"#94a3b8",fontSize:12,fontWeight:600}}),e.jsx(ot,{contentStyle:{borderRadius:"1.5rem",border:t?"1px solid rgba(255,255,255,0.1)":"1px solid rgba(255,255,255,1)",backgroundColor:t?"rgba(15, 23, 42, 0.9)":"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(12px)",color:t?"#fff":"#0f172a",boxShadow:"0 20px 40px rgba(0,0,0,0.1)",fontWeight:"bold",padding:"12px 20px"},itemStyle:{fontWeight:"800"}}),e.jsx(mt,{iconType:"circle",wrapperStyle:{paddingTop:"24px",fontSize:"13px",fontWeight:"800",color:t?"#f8fafc":"#1e293b"}}),e.jsx(pe,{type:"monotone",dataKey:"Target",stroke:t?"#64748b":"#cbd5e1",strokeWidth:3,fill:"transparent",strokeDasharray:"6 6"}),e.jsx(pe,{type:"monotone",dataKey:"Actual",stroke:t?"#2dd4bf":"#0d9488",strokeWidth:5,fill:`url(#${t?"colorActualDark":"colorActualLight"})`})]})})}),xr=[{question:"How is my plan generated?",answer:"We use your profile data (height, weight, goals) to calculate optimal macros and filter recipes from our database using our AI engine."},{question:"Can I change my dietary preferences?",answer:"Yes! Go to the 'Profile' tab to update your preferences anytime. This will automatically recalibrate your engine and generate a fresh plan."},{question:"How do I track my daily progress?",answer:"Navigate to the 'Progress' tab on your dashboard. You can log your meals and weight to see your trend lines over time."},{question:"Are the recipes allergy-friendly?",answer:"Absolutely. When setting up your Health Profile, simply select any allergies (like Peanuts, Gluten, or Dairy), and our system will instantly filter those out of your Daily Plan."}],mr=()=>{const[a,t]=o.useState("faq"),[s,r]=o.useState([]),[l,n]=o.useState(""),[c,i]=o.useState(!1),[d,x]=o.useState(!1);o.useEffect(()=>{a==="support"&&u()},[a]);const u=async()=>{i(!0);try{const{data:p}=await z.get("/api/user/support");p.success&&r(p.tickets||[])}catch{O.error("Failed to load your queries.")}finally{i(!1)}},m=async p=>{if(p.preventDefault(),!l.trim())return O.error("Please enter a message.");x(!0);try{const{data:f}=await z.post("/api/user/support",{message:l});f.success&&(O.success("Query submitted successfully!"),n(""),r(h=>[f.ticket,...h]))}catch{O.error("Failed to submit query.")}finally{x(!1)}};return e.jsx("div",{className:"w-full h-full pt-8  animate-in fade-in slide-in-from-bottom-4 duration-500 relative z-10 pb-80",children:e.jsxs("div",{className:"bg-white/60 backdrop-blur-2xl p-8 pb-32 md:p-12  rounded-[3rem] shadow-[0_8px_30px_rgb(0,0,0,0.04)] border border-white max-w-3xl mx-auto",children:[e.jsxs("h3",{className:"text-3xl md:text-4xl font-black mb-8 text-slate-900 flex items-center gap-4 tracking-tight",children:[e.jsx("div",{className:"bg-gradient-to-br from-teal-100 to-emerald-50 p-4 rounded-[1.5rem] shadow-inner border border-white",children:e.jsx(ut,{className:"text-teal-600",size:36})}),"Help & Support"]}),e.jsxs("div",{className:"flex gap-4 mb-8 bg-white/50 p-2 rounded-2xl border border-white",children:[e.jsx("button",{onClick:()=>t("faq"),className:`flex-1 py-3 px-6 rounded-xl font-bold transition-all ${a==="faq"?"bg-teal-500 text-white shadow-md":"text-slate-500 hover:bg-white/80"}`,children:"FAQs"}),e.jsx("button",{onClick:()=>t("support"),className:`flex-1 py-3 px-6 rounded-xl font-bold transition-all ${a==="support"?"bg-teal-500 text-white shadow-md":"text-slate-500 hover:bg-white/80"}`,children:"My Queries"})]}),a==="faq"&&e.jsxs("div",{className:"space-y-5 animate-in fade-in",children:[xr.map((p,f)=>e.jsxs("details",{className:"group bg-white/80 p-6 rounded-[1.5rem] border border-white shadow-sm cursor-pointer transition-all hover:shadow-md hover:border-teal-100",children:[e.jsxs("summary",{className:"font-bold text-lg list-none flex justify-between items-center text-slate-800 select-none tracking-tight",children:[p.question,e.jsx("span",{className:"transition-transform duration-300 group-open:rotate-180 text-teal-600 bg-teal-50 p-2 rounded-full shadow-inner border border-white",children:e.jsx(Ca,{size:20,strokeWidth:2.5})})]}),e.jsx("p",{className:"text-slate-500 mt-5 text-base font-medium leading-relaxed px-1 animate-in slide-in-from-top-2 fade-in duration-200",children:p.answer})]},f)),e.jsxs("div",{className:"mt-12 mb-20 pt-10 border-t border-white/50 flex flex-col sm:flex-row items-center justify-between gap-6 bg-white/40 p-8 rounded-[2rem] border border-white/60",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-900 font-black text-xl tracking-tight",children:"Still need help?"}),e.jsx("p",{className:"text-base font-medium text-slate-500 mt-1",children:"Our team is here for you."})]}),e.jsxs("button",{onClick:()=>t("support"),className:"w-full sm:w-auto flex items-center justify-center gap-2 bg-gradient-to-r from-teal-500 to-emerald-400 text-white px-8 py-4 rounded-2xl font-black hover:shadow-[0_10px_30px_rgba(20,184,166,0.3)] hover:-translate-y-0.5 transition-all active:scale-95 text-lg",children:[e.jsx(Na,{size:20})," Ask a Question"]})]})]}),a==="support"&&e.jsxs("div",{className:"space-y-8 animate-in fade-in",children:[e.jsxs("form",{onSubmit:m,className:"bg-white/80 p-6 rounded-[1.5rem] border border-white shadow-sm relative",children:[e.jsx("label",{className:"block text-sm font-black uppercase tracking-widest text-slate-400 mb-3",children:"How can we help you?"}),e.jsx("textarea",{value:l,onChange:p=>n(p.target.value),placeholder:"Type your question or issue here...",className:"w-full bg-slate-50 p-4 pr-16 rounded-[1rem] border border-slate-100 focus:outline-none focus:ring-2 focus:ring-teal-500/50 min-h-[120px] font-medium text-slate-700"}),e.jsx("button",{type:"submit",disabled:d,className:"absolute bottom-10 right-10 bg-teal-500 hover:bg-teal-600 text-white p-3 rounded-xl shadow-md transition-all active:scale-95 disabled:opacity-50",children:d?e.jsx(R,{size:20,className:"animate-spin"}):e.jsx(wa,{size:20})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h4",{className:"text-lg font-black text-slate-800 tracking-tight",children:"Your Past Queries"}),c?e.jsx("div",{className:"flex justify-center py-8 text-teal-500",children:e.jsx(R,{className:"animate-spin",size:32})}):s.length===0?e.jsx("div",{className:"text-center p-8 bg-slate-50 rounded-[1.5rem] border border-slate-100",children:e.jsx("p",{className:"text-slate-500 font-medium",children:"You haven't submitted any queries yet."})}):s.map(p=>e.jsxs("div",{className:"bg-white/80 p-6 rounded-[1.5rem] border border-white shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:new Date(p.createdAt).toLocaleDateString()}),p.status==="pending"?e.jsxs("span",{className:"flex items-center gap-1.5 px-3 py-1 bg-amber-50 text-amber-600 font-bold text-[10px] uppercase tracking-wider rounded-full border border-amber-100",children:[e.jsx(be,{size:12})," Pending Review"]}):e.jsxs("span",{className:"flex items-center gap-1.5 px-3 py-1 bg-emerald-50 text-emerald-600 font-bold text-[10px] uppercase tracking-wider rounded-full border border-emerald-100",children:[e.jsx(dt,{size:12})," Replied"]})]}),e.jsx("p",{className:"text-slate-800 font-medium bg-slate-50 p-4 rounded-xl border border-slate-100 mb-4",children:p.message}),p.adminReply&&e.jsxs("div",{className:"bg-teal-50/50 p-4 rounded-xl border border-teal-100",children:[e.jsxs("p",{className:"text-[10px] font-black uppercase tracking-widest text-teal-600 mb-2 flex items-center gap-2",children:[e.jsx(Ve,{size:12})," Support Team Reply"]}),e.jsx("p",{className:"text-slate-700 font-medium whitespace-pre-wrap",children:p.adminReply})]})]},p._id))]})]})]})})},kr=()=>{const{logout:a}=he(),t=kt(),[s,r]=o.useState("dashboard"),[l,n]=o.useState(!1),c=async()=>{n(!1),await a(),O.success("Logged out successfully"),t("/login")},i=[{id:"dashboard",label:"Dashboard",icon:St},{id:"diet",label:"Daily Plan",icon:Q},{id:"progress",label:"Progress",icon:ct},{id:"profile",label:"Profile",icon:ue},{id:"help",label:"Support",icon:ut}];return e.jsxs(e.Fragment,{children:[e.jsx(Pt,{isOpen:l,onClose:()=>n(!1),onConfirm:c}),e.jsxs("div",{className:"flex h-screen bg-slate-50 font-sans text-slate-800 overflow-hidden selection:bg-teal-200 relative",children:[e.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40rem] h-[40rem] bg-teal-400/20 rounded-full blur-[120px] pointer-events-none"}),e.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[30rem] h-[30rem] bg-emerald-400/10 rounded-full blur-[120px] pointer-events-none"}),e.jsxs("aside",{className:"hidden md:flex w-72 flex-col bg-slate-900/95 backdrop-blur-2xl text-slate-300 p-6 shadow-[4px_0_24px_rgba(0,0,0,0.05)] border-r border-slate-800 z-20 transition-all relative",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-12 px-2 group cursor-pointer",children:[e.jsx("img",{src:"/logo.png",alt:"NutriGen Logo",className:"h-10 w-auto transition-transform group-hover:scale-110 duration-300"}),e.jsx("h1",{className:"text-2xl font-black tracking-tight text-white bg-gradient-to-r from-white to-slate-300 bg-clip-text",children:"NutriGen"})]}),e.jsx("nav",{className:"flex-1 space-y-2",children:i.map(d=>e.jsx(pr,{icon:e.jsx(d.icon,{size:22,strokeWidth:2.5}),label:d.label,isActive:s===d.id,onClick:()=>r(d.id)},d.id))}),e.jsxs("div",{className:"pt-6 border-t border-slate-800/50 flex flex-col gap-2",children:[e.jsx(At,{}),e.jsxs("button",{onClick:()=>n(!0),className:"w-full flex items-center gap-3 text-slate-400 hover:text-rose-400 transition-all p-4 rounded-2xl hover:bg-rose-500/10 font-bold group",children:[e.jsx(Ae,{size:22,className:"group-hover:-translate-x-1 transition-transform",strokeWidth:2.5}),"Logout"]})]})]}),e.jsxs("div",{className:"flex flex-col flex-1 w-full h-full relative z-10",children:[e.jsxs("header",{className:"md:hidden flex items-center justify-between bg-white/80 backdrop-blur-xl px-6 py-4 border-b border-white/50 shadow-sm z-20 relative",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:"/logo.png",alt:"NutriGen Logo",className:"h-8 w-auto"}),e.jsx("h1",{className:"text-xl font-black tracking-tight text-slate-900",children:"NutriGen"})]}),e.jsx("button",{onClick:()=>n(!0),className:"p-2 text-slate-400 hover:text-rose-500 bg-white/50 border border-white rounded-full transition-all shadow-sm",children:e.jsx(Ae,{size:20,strokeWidth:2.5})})]}),e.jsx("main",{className:"flex-1 overflow-y-auto w-full p-4 md:p-8  md:pb-8 scroll-smooth",children:e.jsxs("div",{className:"max-w-6xl mx-auto h-full animate-in fade-in slide-in-from-bottom-4 duration-500",children:[s==="dashboard"&&e.jsx(ur,{setActiveTab:r}),s==="profile"&&e.jsx(zt,{}),s==="diet"&&e.jsx(Ja,{}),s==="progress"&&e.jsx(dr,{}),s==="help"&&e.jsx(mr,{})]})}),e.jsx("nav",{className:"md:hidden fixed bottom-6 left-4 right-4 bg-white/90 backdrop-blur-2xl border border-white/50 shadow-[0_20px_60px_rgba(0,0,0,0.12)] z-50 px-2 pb-safe pt-2 rounded-3xl",children:e.jsx("div",{className:"flex justify-around items-center h-16",children:i.map(d=>e.jsxs("button",{onClick:()=>r(d.id),className:`flex flex-col items-center justify-center w-16 h-full space-y-1 transition-all duration-300 ${s===d.id?"text-teal-600 scale-105":"text-slate-400 hover:text-slate-600"}`,children:[e.jsx("div",{className:`${s===d.id?"bg-teal-50 shadow-inner border border-teal-100/50 p-1.5 rounded-xl":""}`,children:e.jsx(d.icon,{size:22,strokeWidth:s===d.id?2.5:2})}),e.jsx("span",{className:"text-[10px] font-bold tracking-wide",children:d.label})]},d.id))})})]})]})]})},pr=({icon:a,label:t,isActive:s,onClick:r})=>e.jsxs("button",{onClick:r,className:`w-full flex items-center gap-4 py-4 px-5 rounded-2xl transition-all duration-300 font-bold group ${s?"bg-gradient-to-r from-teal-500 to-emerald-400 text-slate-900 shadow-[0_0_20px_rgba(20,184,166,0.2)] translate-x-2":"text-slate-400 hover:bg-slate-800/50 hover:text-slate-200"}`,children:[e.jsx("div",{className:`${s?"text-slate-900":"text-slate-400 group-hover:text-teal-400 transition-colors"}`,children:a}),t]});export{kr as default};
