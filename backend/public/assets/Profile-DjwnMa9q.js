import{c as h,b as w,r as p,j as e,U as N,d as y,n as j}from"./index-FmfpB1ml.js";import{L as v}from"./loader-circle-B7PgqpWP.js";import{F as k,M as C,H as _}from"./moon-BmC63L2_.js";import{T,A as P}from"./target-DdJ2Jx7H.js";import{C as F}from"./circle-check-C9_UWP29.js";const z=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],L=h("briefcase",z);const M=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],D=h("droplets",M);const S=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],A=h("globe",S);const W=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],q=h("pill",W);const G=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],B=h("ruler",G);const $=[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]],H=h("weight",$),O=()=>{const{user:m}=w(),[r,c]=p.useState(!0),[o,g]=p.useState(!1),[a,d]=p.useState({age:"",gender:"Male",height:"",weight:"",bodyFat:"",regionFoodPreference:"",activityLevel:"sedentary",stepsPerDay:"",jobType:"desk",primaryGoal:"fat_loss",targetWeight:"",timeline:"",medicalConditions:"",allergies:"",medications:"",sleepTarget:8,waterTarget:3});p.useEffect(()=>{(async()=>{try{const l=await y.get("/api/profile/get");if(l.data.success&&l.data.profile){const s=l.data.profile;d({age:s.basic?.age||"",gender:s.basic?.gender||"Male",height:s.basic?.height||"",weight:s.basic?.weight||"",bodyFat:s.basic?.bodyFat||"",regionFoodPreference:s.basic?.regionFoodPreference||"",activityLevel:s.lifestyle?.activityLevel||"sedentary",stepsPerDay:s.lifestyle?.stepsPerDay||"",jobType:s.lifestyle?.jobType||"desk",primaryGoal:s.goals?.primaryGoal||"fat_loss",targetWeight:s.goals?.targetWeight||"",timeline:s.goals?.timeline||"",medicalConditions:s.health?.medicalConditions?.join(", ")||"",allergies:s.health?.allergies?.join(", ")||"",medications:s.health?.medications?.join(", ")||"",sleepTarget:s.health?.sleepTarget||8,waterTarget:s.health?.waterTarget||3})}}catch{}finally{c(!1)}})()},[]);const t=x=>d({...a,[x.target.name]:x.target.value}),f=async x=>{x.preventDefault(),g(!0);const l=i=>i===""||isNaN(i)?void 0:Number(i),s={basic:{age:l(a.age),gender:a.gender,height:l(a.height),weight:l(a.weight),bodyFat:l(a.bodyFat),regionFoodPreference:a.regionFoodPreference},lifestyle:{activityLevel:a.activityLevel,stepsPerDay:l(a.stepsPerDay),jobType:a.jobType},goals:{primaryGoal:a.primaryGoal,targetWeight:l(a.targetWeight),timeline:l(a.timeline)},health:{medicalConditions:a.medicalConditions.split(",").map(i=>i.trim()).filter(Boolean),allergies:a.allergies.split(",").map(i=>i.trim()).filter(Boolean),medications:a.medications.split(",").map(i=>i.trim()).filter(Boolean),sleepTarget:l(a.sleepTarget)||8,waterTarget:l(a.waterTarget)||3}};try{(await y.post("/api/profile/update",s)).data.success&&j.success("Profile updated successfully.")}catch(i){j.error(i.response?.data?.message||"Failed to save profile.")}finally{g(!1)}};return r?e.jsx("div",{className:"min-h-[70vh] flex flex-col justify-center items-center",children:e.jsxs("div",{className:"bg-white/60 backdrop-blur-xl p-8 rounded-3xl border border-white shadow-xl flex flex-col items-center",children:[e.jsx(v,{className:"animate-spin text-indigo-500 mb-4",size:48}),e.jsx("p",{className:"text-slate-500 font-bold tracking-widest uppercase text-sm",children:"Loading Data"})]})}):e.jsxs("div",{className:"max-w-6xl mx-auto pb-32 pt-4 animate-in fade-in duration-700 relative z-10",children:[e.jsxs("div",{className:"mb-10 mt-8",children:[e.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tight",children:"Health Profile"}),e.jsx("p",{className:"mt-2 text-slate-500 font-medium text-lg max-w-2xl",children:"Keep your biometrics updated. Our AI uses this exact math to generate your daily plans."})]}),e.jsxs("form",{onSubmit:f,className:"relative",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[e.jsx(b,{className:"lg:col-span-2",icon:e.jsx(N,{className:"text-blue-500",size:24}),title:"Core Biometrics",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6",children:[e.jsx(n,{label:"Age",name:"age",type:"number",value:a.age,onChange:t}),e.jsx(u,{label:"Gender",name:"gender",value:a.gender,onChange:t,options:["Male","Female","Other"]}),e.jsx(n,{label:"Height (cm)",name:"height",type:"number",value:a.height,onChange:t,icon:e.jsx(B,{size:16})}),e.jsx(n,{label:"Weight (kg)",name:"weight",type:"number",value:a.weight,onChange:t,icon:e.jsx(H,{size:16})}),e.jsx(n,{label:"Body Fat %",name:"bodyFat",type:"number",value:a.bodyFat,onChange:t,required:!1,icon:e.jsx(k,{size:16})}),e.jsx(n,{label:"Diet Region",name:"regionFoodPreference",value:a.regionFoodPreference,onChange:t,required:!1,icon:e.jsx(A,{size:16})})]})}),e.jsxs("div",{className:"bg-white/60 backdrop-blur-2xl rounded-[2.5rem] p-8 border border-white shadow-[0_8px_30px_rgb(0,0,0,0.04)] flex flex-col justify-between hover:shadow-[0_20px_60px_rgb(59,130,246,0.1)] transition-all",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"p-3 bg-blue-50 text-blue-500 rounded-2xl shadow-inner border border-white",children:e.jsx(D,{size:24})}),e.jsx("span",{className:"font-black text-slate-800 text-xl tracking-tight",children:"Hydration"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-baseline gap-2 border-b-2 border-white/50 focus-within:border-blue-500 pb-2 transition-colors",children:[e.jsx("input",{type:"number",step:"0.5",name:"waterTarget",value:a.waterTarget,onChange:t,required:!0,className:"w-full text-6xl font-black text-slate-900 bg-transparent outline-none placeholder-slate-300 tracking-tighter"}),e.jsx("span",{className:"text-xl font-bold text-slate-400",children:"Liters"})]}),e.jsx("p",{className:"text-slate-500 font-medium text-sm mt-4",children:"Target intake per day"})]})]}),e.jsx(b,{className:"lg:col-span-2",icon:e.jsx(T,{className:"text-emerald-500",size:24}),title:"Optimization Goals",children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsx(u,{label:"Primary Objective",name:"primaryGoal",value:a.primaryGoal,onChange:t,options:[{val:"fat_loss",label:"Fat Loss"},{val:"muscle_gain",label:"Muscle Gain"},{val:"recomposition",label:"Body Recomposition"},{val:"maintain",label:"Maintenance"},{val:"endurance",label:"Endurance & Performance"}]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsx(n,{label:"Target Weight (kg)",name:"targetWeight",type:"number",value:a.targetWeight,onChange:t,required:!1}),e.jsx(n,{label:"Timeline (Weeks)",name:"timeline",type:"number",value:a.timeline,onChange:t,required:!1})]})]})}),e.jsxs("div",{className:"bg-white/60 backdrop-blur-2xl rounded-[2.5rem] p-8 border border-white shadow-[0_8px_30px_rgb(0,0,0,0.04)] flex flex-col justify-between hover:shadow-[0_20px_60px_rgb(99,102,241,0.1)] transition-all",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"p-3 bg-indigo-50 text-indigo-500 rounded-2xl shadow-inner border border-white",children:e.jsx(C,{size:24})}),e.jsx("span",{className:"font-black text-slate-800 text-xl tracking-tight",children:"Nightly Rest"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-baseline gap-2 border-b-2 border-white/50 focus-within:border-indigo-500 pb-2 transition-colors",children:[e.jsx("input",{type:"number",name:"sleepTarget",value:a.sleepTarget,onChange:t,required:!0,className:"w-full text-6xl font-black text-slate-900 bg-transparent outline-none placeholder-slate-300 tracking-tighter"}),e.jsx("span",{className:"text-xl font-bold text-slate-400",children:"Hours"})]}),e.jsx("p",{className:"text-slate-500 font-medium text-sm mt-4",children:"Target sleep per night"})]})]}),e.jsx(b,{className:"lg:col-span-1",icon:e.jsx(P,{className:"text-amber-500",size:24}),title:"Lifestyle",children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsx(u,{label:"Activity Level",name:"activityLevel",value:a.activityLevel,onChange:t,options:[{val:"sedentary",label:"Sedentary"},{val:"light",label:"Lightly Active"},{val:"moderate",label:"Moderately Active"},{val:"active",label:"Highly Active"},{val:"athlete",label:"Athlete"}]}),e.jsx(u,{label:"Job Type",name:"jobType",value:a.jobType,onChange:t,options:[{val:"desk",label:"Desk / Office"},{val:"field",label:"Field / Physical"},{val:"mixed",label:"Mixed Context"}]}),e.jsx(n,{label:"Avg Steps/Day",name:"stepsPerDay",type:"number",value:a.stepsPerDay,onChange:t,required:!1,icon:e.jsx(L,{size:16})})]})}),e.jsx(b,{className:"lg:col-span-2",icon:e.jsx(_,{className:"text-rose-500",size:24}),title:"Clinical Details",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(n,{label:"Medical Conditions (Comma separated)",name:"medicalConditions",value:a.medicalConditions,onChange:t,required:!1}),e.jsx(n,{label:"Known Allergies (Comma separated)",name:"allergies",value:a.allergies,onChange:t,required:!1}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(n,{label:"Current Medications (Comma separated)",name:"medications",value:a.medications,onChange:t,required:!1,icon:e.jsx(q,{size:16})})})]})})]}),e.jsx("div",{className:"bottom-6 left-0 mt-6 right-0 z-50 flex justify-center px-4 pointer-events-none",children:e.jsx("button",{type:"submit",disabled:o,className:`pointer-events-auto flex items-center justify-center gap-2 w-full max-w-md px-8 py-4 rounded-2xl font-bold text-base transition-all duration-200 shadow-[0_8px_30px_rgba(0,0,0,0.12)] active:scale-[0.98] ${o?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-900 text-white hover:bg-gray-800 hover:shadow-[0_12px_40px_rgba(0,0,0,0.15)]"}`,children:o?e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"animate-spin",size:20})," Saving Changes..."]}):e.jsxs(e.Fragment,{children:[e.jsx(F,{size:20})," Save Profile Data"]})})})]})]})},b=({className:m="",icon:r,title:c,children:o})=>e.jsxs("div",{className:`bg-white/60 backdrop-blur-2xl rounded-[2.5rem] p-8 border border-white shadow-[0_8px_30px_rgb(0,0,0,0.04)] ${m}`,children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8 pb-6 border-b border-white/50",children:[e.jsx("div",{className:"p-3 bg-white border border-white shadow-sm rounded-2xl",children:r}),e.jsx("h2",{className:"text-2xl font-black text-slate-800 tracking-tight",children:c})]}),o]}),n=({label:m,name:r,type:c="text",value:o,onChange:g,icon:a,required:d=!0})=>e.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[e.jsxs("label",{htmlFor:r,className:"text-[10px] font-black text-slate-400 uppercase tracking-widest pl-1 flex justify-between",children:[m," ",d&&e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("div",{className:"relative flex items-center",children:[a&&e.jsx("div",{className:"absolute left-4 text-slate-400 pointer-events-none",children:a}),e.jsx("input",{type:c,name:r,id:r,value:o,onChange:g,required:d,className:`w-full py-3.5 bg-white/50 border border-white shadow-sm text-slate-900 rounded-2xl focus:bg-white focus:border-teal-500 focus:ring-2 focus:ring-teal-500/30 transition-all outline-none text-base font-semibold placeholder:text-slate-300 ${a?"pl-11 pr-4":"px-4"}`})]})]}),u=({label:m,name:r,value:c,onChange:o,options:g})=>e.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[e.jsxs("label",{htmlFor:r,className:"text-[10px] font-black text-slate-400 uppercase tracking-widest pl-1 flex justify-between",children:[m," ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("div",{className:"relative flex items-center",children:[e.jsx("select",{name:r,id:r,value:c,onChange:o,className:"w-full py-3.5 bg-white/50 border border-white shadow-sm text-slate-900 rounded-2xl focus:bg-white focus:border-teal-500 focus:ring-2 focus:ring-teal-500/30 transition-all outline-none text-base font-semibold appearance-none px-4 cursor-pointer",children:g.map((a,d)=>{const t=typeof a=="string"?a:a.val,f=typeof a=="string"?a:a.label;return e.jsx("option",{value:t,children:f},d)})}),e.jsx("div",{className:"absolute right-4 text-slate-400 pointer-events-none",children:e.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})})]})]}),U=Object.freeze(Object.defineProperty({__proto__:null,default:O},Symbol.toStringTag,{value:"Module"}));export{L as B,D,O as P,B as R,H as W,U as a};
